(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,a){e.exports=a(85)},48:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),s=a.n(c),o=(a(48),a(2)),l=a.n(o),u=a(5),i=a(7),m=(a(50),a(11)),p=function(e,t){var a=Object(n.useState)((function(){return JSON.parse(window.localStorage.getItem(e)||JSON.stringify(t))})),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,s]},f=a(9),d=(a(51),function(e){var t=e.currentUser;return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("header",null,r.a.createElement("h1",{className:"mb-4 font-weight-bold"},"Jobly")),r.a.createElement("p",{className:"lead"},"All the jobs in one, convenient place."),t?r.a.createElement("h2",null,"Welcome!"):r.a.createElement(m.b,{to:"/login",className:"btn btn-primary font-weight-bold"},"Login")))}),v=(a(56),a(37)),b=a(38),g=(a(59),function(e){var t=e.name,a=e.description,n=e.logo_url;return r.a.createElement("div",{className:"CardItem card text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"text-capitalize"},t),n?r.a.createElement("img",{src:n,alt:"".concat(t,"} Logo")}):r.a.createElement(v.a,{icon:b.a,size:"2x",className:"building"})),r.a.createElement("p",{className:"card-text text-left"},a)))}),h=(a(60),function(e){var t=e.handle,a=e.name,n=e.description,c=e.logo_url;return r.a.createElement("div",{className:"CompanyCard"},r.a.createElement(m.b,{to:"/companies/".concat(t)},r.a.createElement(g,{name:a,description:n,logo_url:c})))}),E=a(15),y=a(86),N=a(87),j=a(88),x=a(95),w=a(89),O=(a(61),a(39)),k=a.n(O),S=function(e){var t=e.searchFor,a=Object(n.useState)({search:""}),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(n.useCallback)(k.a.debounce((function(e){return t(e)}),500),[]);return r.a.createElement("div",{className:"Search"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement(y.a,{size:"lg"},r.a.createElement(N.a,{htmlFor:"search"}),r.a.createElement(j.a,{onChange:function(e){var t=e.target,a=t.name,n=t.value,r=Object(E.a)({},a,n);o((function(e){return e})),l(r)},name:"search",placeholder:"Enter search term...",value:s.value}),r.a.createElement(x.a,{addonType:"append"},r.a.createElement(w.a,{color:"secondary"},"Search")))))},_=a(40),C=a(41),U=a(42),F=a.n(U),T=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASE_URL||"http://localhost:3001",J=function(){function e(){Object(_.a)(this,e)}return Object(C.a)(e,null,[{key:"request",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:"get",a._token=JSON.parse(window.localStorage.getItem("token")),console.debug("API Call:",t,a,n),e.prev=4,e.next=7,F()(Object(E.a)({method:n,url:"".concat(T,"/").concat(t)},"get"===n?"params":"data",a));case 7:return e.abrupt("return",e.sent.data);case 10:throw e.prev=10,e.t0=e.catch(4),console.error("API Error:",e.t0.response),r=e.t0.response.data.message,Array.isArray(r)?r:[r];case 15:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.request("companies/",t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.request("jobs/",t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJob",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("login/",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),a,"patch");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"applyToJob",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t,"/apply"),a,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),L=a(90),P=(a(79),function(){return r.a.createElement(L.a,{className:"Spinner",color:"info"})}),q=function(){return r.a.createElement("h2",null,"You must be logged in to view")},A=function(e){var t=e.currentUser,a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],o=c[1],m=Object(n.useState)(!0),p=Object(i.a)(m,2),f=p[0],d=p[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getCompanies();case 2:t=e.sent,a=t.companies,o(a),d(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var v=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getCompanies(t);case 2:a=e.sent,n=a.companies,o(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=t?r.a.createElement("div",null,r.a.createElement(S,{searchFor:v}),0===s.length?r.a.createElement("p",{className:"lead"},"Sorry no companies match that search..."):s.map((function(e){var t=e.handle,a=e.name,n=e.description,c=e.logo_url;return r.a.createElement(h,{key:t,handle:t,name:a,description:n,logo_url:c})}))):r.a.createElement(q,null);return r.a.createElement("div",{className:"col-md-8 offset-md-2"},f?r.a.createElement(P,null):b)};a(80);var I=function(e){var t=e.id,a=e.title,c=e.equity,s=e.salary,o=e.state,l=e.applyToJob,u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],f=m[1],d="applied"===o||p?r.a.createElement("button",{type:"button",className:"Job btn btn-primary font-weight-bold text-uppercase float-right disabled",disabled:!0},"Applied"):r.a.createElement("button",{onClick:function(e){var t=e.target.value;l(t),f(!0)},type:"button",className:"Job btn btn-primary font-weight-bold text-uppercase float-right active",value:t},"Apply");return r.a.createElement("div",{className:"Job CardItem card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"text-capitalize"},a)),r.a.createElement("div",{className:"card-text"},"Salary: ","$".concat(s.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))),r.a.createElement("div",{className:"card-text"},"Equity: ","".concat(100*c,"%")),d))},D=function(e){var t=e.companyJobs,a=e.currentUser,c=Object(n.useState)([]),s=Object(i.a)(c,2),o=s[0],m=s[1],p=Object(n.useState)(!0),f=Object(i.a)(p,2),d=f[0],v=f[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||0===t.length){e.next=4;break}m(t),e.next=9;break;case 4:return e.next=6,J.getJobs();case 6:a=e.sent,n=a.jobs,m(n);case 9:v(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getJobs(t);case 2:a=e.sent,n=a.jobs,m(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.applyToJob(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=a?r.a.createElement("div",null,r.a.createElement(S,{searchFor:b}),0===o.length?r.a.createElement("p",{className:"lead"},"Sorry no jobs match that search..."):o.map((function(e){var t=e.id,a=e.title,n=e.equity,c=e.salary,s=e.state;return r.a.createElement(I,{key:t,id:t,title:a,equity:n,salary:c,state:s,applyToJob:g})}))):r.a.createElement(q,null);return r.a.createElement("div",{className:"col-md-8 offset-md-2"},d?r.a.createElement("div",null,r.a.createElement(P,null)):h)},V=function(e){var t=e.handle,a=e.currentUser,c=Object(n.useState)({}),s=Object(i.a)(c,2),o=s[0],m=s[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),d=f[0],v=f[1],b=Object(n.useState)(!0),g=Object(i.a)(b,2),h=g[0],E=g[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getCompany(t);case 2:a=e.sent,n=a.company,m(n),E(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t,m]),Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getJobs();case 2:a=e.sent,n=a.jobs,r=n.filter((function(e){return e.company_handle===t})),v(r),E(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t,m]);var y=a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"text-capitalize"},o.name),r.a.createElement("p",null,o.description),r.a.createElement(D,{companyJobs:d,isLoading:h,currentUser:a})):r.a.createElement(q,null);return h?r.a.createElement(P,null):y},W=a(16),z=(a(81),function(e){var t=e.type,a=e.messages;return r.a.createElement("div",{className:"alert alert-".concat(t," fade show"),role:"alert"},a.map((function(e){return r.a.createElement("p",{key:e,className:"mb-0 small"},e)})))}),R=function(e){var t=e.login,a=e.register,c=e.messages,s=e.getCurrentUser,o=e.usernameToStorage,m=Object(n.useState)({activeView:"login"}),p=Object(i.a)(m,2),f=p[0],d=p[1],v=Object(n.useState)({username:"",password:"",first_name:"",last_name:"",email:""}),b=Object(i.a)(v,2),g=b[0],h=b[1],y=function(e){var t=e.target.value;"login"===t&&d({activeView:"login"}),"signup"===t&&d({activeView:"signup"})},N=function(e){var t=e.target,a=t.name,n=t.value;h((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(E.a)({},a,n))}))},j=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"login"!==f.activeView){e.next=9;break}return e.next=4,t(g);case 4:return e.next=6,s(g.username);case 6:o(g.username),e.next=18;break;case 9:if("signup"!==f.activeView){e.next=17;break}return e.next=12,a(g);case 12:return e.next=14,s(g.username);case 14:o(g.username),e.next=18;break;case 17:alert("Hmmm, that didn't work. Please try again.");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=g.username,w=g.password,O=g.first_name,k=g.last_name,S=g.email,_=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"first_name"},"First Name")),r.a.createElement("input",{type:"text",className:"LoginForm form-control",id:"first-name",name:"first_name",onChange:N,value:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"last_name"},"Last Name")),r.a.createElement("input",{type:"text",className:"LoginForm form-control",id:"last-name",name:"last_name",onChange:N,value:k})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("input",{type:"email",className:"LoginForm form-control",id:"email",name:"email",onChange:N,value:S}))),C=f.activeView;return r.a.createElement("div",{className:"LoginForm container col-md-6 offset-md-3 col-lg-4 offset-lg-4"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{onClick:y,className:"LoginForm btn btn-primary ".concat("login"===C?"active":""),value:"login"},"Login"),r.a.createElement("button",{onClick:y,className:"LoginForm btn btn-primary ".concat("signup"===C?"active":""),value:"signup"},"Sign Up"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:j},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("input",{type:"text",className:"LoginForm form-control",name:"username",onChange:N,value:x})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("input",{type:"password",className:"LoginForm form-control",name:"password",onChange:N,value:w})),"signup"===C&&_,c.length>0&&r.a.createElement(z,{type:"danger",messages:c}),r.a.createElement("button",{className:"LoginForm submit btn btn-primary"},"Submit")))))},B=function(e){var t=e.tokenToStorage,a=e.getCurrentUser,c=e.usernameToStorage,s=Object(f.g)(),o=Object(n.useState)({messages:[]}),m=Object(i.a)(o,2),p=m[0],d=m[1],v=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.loginUser(a);case 3:n=e.sent,r=n.token,t(r),s.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d({messages:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.registerUser(a);case 3:n=e.sent,r=n.token,t(r),s.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d({messages:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(R,{login:v,register:b,messages:p.messages,getCurrentUser:a,usernameToStorage:c})},H=(a(82),function(e){var t=e.currentUser,a=Object(n.useState)({first_name:"",last_name:"",email:"",photo_url:"",password:""}),c=Object(i.a)(a,2),s=c[0],o=c[1];Object(n.useEffect)((function(){t&&o({first_name:t.first_name,last_name:t.last_name,email:t.email,photo_url:t.photo_url||"",password:""})}),[t]);var m=Object(n.useState)({messages:[],type:""}),p=Object(i.a)(m,2),f=p[0],d=p[1],v=function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(E.a)({},a,n))}))},b=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,J.updateUser(t.username,s);case 4:n=e.sent,r=n.user,o((function(e){return Object(W.a)(Object(W.a)(Object(W.a)({},e),r),{},{password:""})})),d({messages:["user updated successfully"],type:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),d({messages:e.t0,type:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),g=s.first_name,h=s.last_name,y=s.email,N=s.photo_url,j=s.password,x=f.messages,w=f.type,O=t?r.a.createElement("div",{className:"Profile col-md-6 col-lg-4 offset-md-3 offset-lg-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:b},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("p",{className:"form-control-plaintext d-flex justify-content-start"},t.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"first_name"},"First Name")),r.a.createElement("input",{type:"text",className:"Profile form-control",id:"first-name",name:"first_name",onChange:v,value:g})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"last_name"},"Last Name")),r.a.createElement("input",{type:"text",className:"Profile form-control",id:"last-name",name:"last_name",onChange:v,value:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("input",{type:"email",className:"Profile form-control",id:"email",name:"email",onChange:v,value:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"photo_url"},"Photo URL")),r.a.createElement("input",{type:"url",className:"Profile form-control",id:"photo-url",name:"photo_url",onChange:v,value:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("input",{type:"password",className:"Profile form-control",id:"password",name:"password",onChange:v,value:j})),x.length>0&&r.a.createElement(z,{type:w,messages:x}),j.length>0?r.a.createElement("button",{className:"Profile btn btn-primary btn-block mt-4 ".concat(j.length>0?"":"disabled")},"Save Changes"):r.a.createElement("button",{className:"Profile btn btn-primary btn-block mt-4 ".concat(j.length>0?"":"disabled"),disabled:!0},"Save Changes"))))):r.a.createElement(q,null);return r.a.createElement("div",null,null!==t?O:r.a.createElement(P,null))}),K=function(e){var t=e.tokenToStorage,a=e.getCurrentUser,n=e.currentUser,c=e.usernameToStorage;return r.a.createElement("div",null,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/login"},r.a.createElement(B,{tokenToStorage:t,getCurrentUser:a,usernameToStorage:c})),r.a.createElement(f.b,{exact:!0,path:"/"},r.a.createElement(d,{currentUser:n})),r.a.createElement(f.b,{exact:!0,path:"/companies"},r.a.createElement(A,{currentUser:n})),r.a.createElement(f.b,{exact:!0,path:"/jobs"},r.a.createElement(D,{currentUser:n})),r.a.createElement(f.b,{exact:!0,path:"/companies/:handle",render:function(e){var t=e.match.params.handle;return r.a.createElement(V,{handle:t,currentUser:n})}}),r.a.createElement(f.b,{exact:!0,path:"/profile"},r.a.createElement(H,{currentUser:n})),r.a.createElement(f.a,{to:"/"})))},$=(a(83),a(91)),M=a(92),Y=a(93),G=a(94),Q=function(e){var t=e.currentUser,a=e.setToken,n=e.setCurrUser;return r.a.createElement("div",{className:"Navigation"},r.a.createElement($.a,{className:"Navigation navbar-expand-md"},r.a.createElement(M.a,{href:"/"},"Jobly"),t?r.a.createElement(Y.a,{className:"ml-auto"},r.a.createElement(G.a,{className:"mr-4"},r.a.createElement(m.c,{exact:!0,to:"/companies"},"Companies")),r.a.createElement(G.a,{className:"mr-4"},r.a.createElement(m.c,{exact:!0,to:"/jobs"},"Jobs")),r.a.createElement(G.a,{className:"mr-4"},r.a.createElement(m.c,{exact:!0,to:"/profile"},"Profile")),r.a.createElement(G.a,{className:"logout mr-4"},r.a.createElement(m.c,{exact:!0,to:"/",onClick:function(){window.localStorage.clear(),a(null),n({currentUser:null})}},"Logout"))):r.a.createElement(Y.a,{className:"login ml-auto"},r.a.createElement(G.a,null,r.a.createElement(m.c,{className:"mr-4",exact:!0,to:"/login"},"Login")))))};var X=function(){var e=Object(n.useState)({currentUser:null}),t=Object(i.a)(e,2),a=t[0],c=t[1],s=p("token",null),o=Object(i.a)(s,2),f=o[0],d=o[1],v=p("username",null),b=Object(i.a)(v,2),g=b[0],h=b[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getUser(g);case 2:t=e.sent,a=t.user,c({currentUser:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[g,f]);var E=a.currentUser;return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(Q,{currentUser:E,setToken:d,setCurrUser:c}),r.a.createElement("div",{className:"pt-5"},r.a.createElement(K,{tokenToStorage:function(e){d(e)},getCurrentUser:function(e){h({username:e})},currentUser:E,usernameToStorage:function(e){h(e)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(84);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.2156d41d.chunk.js.map